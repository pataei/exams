\section{Relational Databases}
\label{sec:rdb}

In this section, we introduce relational database's concepts, which are the basis of variational databases. 
%To ease in the reader into relational databases we first provide an example in 
\tabref{rdb} represents an example relational
database instance corresponding to \vTwo, the highlighted cell in \tabref{mot-basic}. 
%
Intuitively, the data is represented in tables with rows of uniform structure
where each row contains  data about a specific
object or sets of object~\cite{AliceBook}. Each table is 
associated with a relation and has a name, for example, 
the relation \job\ contains rows specifying the salary of a position in a company. 
The columns form the structure of the table and are called attributes,
for example, the relation \job\ has two attributes: \titleatt\ and \salary. 
The values of attributes are taken from a set of constants called the \emph{domain}. 
For simplicity, 
we do not distinguish between different types of values such as strings, numbers, and
dates.%
\footnote{This design decision was made to make proofs easier, however, the implementation of our
database system  distinguishes between different kinds of values
and considers a unique domain for each.}
%
Finally, we differentiate between the database schema, which is the structure 
data is stored, and the database instance, which is the actual content of the 
database. 
%
For example, \tabref{rdb-empacct} and \tabref{rdb-job} illustrate the database 
instance while \tabref{rdb-sch} shows the database schema. 
%
This differentiation can be viewed as the differentiation of types and
values in programming languages. For example, $x$ is variable of type $\mathit{Int}$
and may have value $15$. 

\input{tables/rdb}


\input{formulas/rdb}

%\point{database schema.}
We now shift our focus to the formal definitions of a relational database. 
A relational database \pDB\ stores information in a structured manner by forcing
data to conform to a \emph{schema} \pSch\ that is a finite set 
$\setDef {{\pRelSch}_1, \ldots, {\pRelSch}_n}$ of \emph{relation schemas}.
A relation schema is defined as
$\pRelSch = \vRel \paran {\vi \pAtt k}$ where each $\pAtt_i \in \pAttSet$ is an
\emph{attribute} contained in the relation named \vRel\ and \pAttSet\ is a 
fixed countably infinite set of 
attributes. %eric comment: attributes -->  attribute names
%
We assume a total order $\leq_{\pAttSet}$ on \pAttSet, and assume for
simplicity that sets of attributes are sorted according
to $\leq_{\pAttSet}$ in all relations.
%unless otherwise specified. 
%
% For theoretical development, it suffices to use the same domain of values
% for all of the attributes. Thus, we fix a countably infinite set \emph{domain} \domSet.
% %(disjoint from \pAttSet).
% A \emph{value} and a \emph{constant} are elements of \domSet.

%Then, $\getRel {\pAtt}$ returns the relation that contains the 
%attribute.

%\type [\pAtt]\ returns the \emph{type} of values associated with attribute \pAtt.

%\point{database content.}
\figref{rdb-def} defines the relational database objects and type synonyms.
The content of database \pDB\ is stored in the form of \emph{tuples}. A tuple
\pTuple\ is a list of \emph{values}. We do not distinguish between
different types of values within a relational database.
%
The order of values within a tuple correspond to the order of attributes in its corresponding
relation schema, that is, given tuple $\pTuple = \paran {\vi {\underline v} k}$
in the relation with relation schema \vRel \paran {\vi \pAtt k},
$\underline{v}_i$ corresponds to attribute $\underline{a}_i$.
%
A \emph{relation content}, \pRelCont, is the set of all tuples \setDef {\vi
\pTuple m} corresponding to a particular relation.
%
The operation $\getAtt {i}$ returns the attribute corresponding to index $i$ in
a tuple, implicitly looking up the attribute in the corresponding relation
schema.
%
A \emph{table} \ensuremath{\pTab = \left(\pRelSch, \pRelCont\right)} is a pair
of relation schema and relation content.
%
A \emph{database instance}, \pInst, of the database \pDB\ with schema \pSch, is
a set of tables $\setDef {\pTab_1, \ldots, \pTab_n}$ for each relation in
\pSch.
%relation contents $\setDef  {{\pRelCont}_1, \ldots, {\pRelCont}_n}$
%corresponding to a set of relation schemas $\setDef {{\pRelSch}_1, \ldots,
%{\pRelSch}_n}$ defined in \pSch. 
For brevity, when it is clear from context, we refer to a database instance as
simply a \emph{database}.




