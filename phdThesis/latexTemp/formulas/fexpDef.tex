\begin{figure}
%\textbf{Feature expression generic object:}
%\begin{syntax}
%\synDef \fName \fSet &\textit{Feature Name}
%%c \in \mathbf{C} &\textit{Configuration}
%\end{syntax}
%
%\medskip
\textbf{Feature expression syntax:}
\begin{syntax}
\synDef \fName \fSet &&&\textit{Feature Name}\\
\synDef \features {\settype \fSet} &&& \textit{Closed Set of Features}\\
\synDef \bTag \bSet &\eqq& \t \myOR \f & \textit{Boolean Value}\\
\synDef \dimMeta \ffSet &\eqq& \bTag \myOR \fName \myOR \neg \dimMeta \myOR \dimMeta \wedge \dimMeta \myOR \dimMeta \vee \dimMeta & \textit{Feature Expression}\\
\synDef \config \confSet &:& \fSet \totype \bSet &\textit{Configuration}
\end{syntax}

\medskip
\textbf{Evaluation of feature expressions:}
\begin{alignat*}{1}
\fSem [] . &: \ffSet \totype \confSet \totype \bSet\\
\fSem \bTag &= \bTag\\
\fSem \fName &= \config \ \fName\\
\fSem {\neg \dimMeta} &= 
	\begin{cases}
	  \t, &\If \fSem \dimMeta = \t\\
	  \f, &\Otherwise
	\end{cases}\\
%\neg \fSem \fName\\
\fSem {\annd \dimMeta} &= 
	\begin{cases}
	  \t, &\If \fSem {\dimMeta_1} = \t \textit{ and } \fSem {\dimMeta_2} = \t\\
	  \f, &\Otherwise
	\end{cases}\\
%\fSem {\dimMeta_1} \wedge \fSem {\dimMeta_2}\\
\fSem {\orr \dimMeta} &= 
	\begin{cases}
	  \t, &\If \fSem {\dimMeta_1} = \t \textit{ or } \fSem {\dimMeta_2} = \t\\
	  \f, &\Otherwise
	\end{cases}
%\fSem {\dimMeta_1} \vee \fSem {\dimMeta_2}\\
\end{alignat*}

\medskip
\textbf{Relations over feature expressions:}
\begin{alignat*}{1}
\dimMeta_1 \equiv \dimMeta_2 &\textit{ iff \ } \forall \config \in \confSet. \fSem {\dimMeta_1} = \fSem {\dimMeta_2}\\
\sat {\dimMeta} &\textit{ iff \ } \exists \config \in \confSet. \fSem {\dimMeta} = \t\\
\unsat {\dimMeta} &\textit{ iff \ } \forall \config \in \confSet. \fSem {\dimMeta} = \f\\
\oneof {\A, \B, \ldots, \fName_n}
&= (\A \wedge \neg \B \wedge \ldots \wedge \neg \fName_n)
\vee (\neg \A \wedge \B \wedge \ldots \wedge \neg \fName_n)\\
&\qquad\vee (\neg \A \wedge \neg \B \wedge \ldots \wedge \fName_n)
%\dimMeta_1 \oplus \dimMeta_2 = (\dimMeta_1 \wedge \neg \dimMeta_2) \vee (\dimMeta_2 \wedge \neg \dimMeta_1)
\end{alignat*}

%\medskip
%\textbf{Syntactic sugar for mutually exclusive features:}
%\begin{alignat*}{1}
%\A \oplus \B \oplus \ldots \oplus \fName_n
%= (\A \wedge \neg \B \wedge \ldots \wedge \neg \fName_n)\\
%\vee (\neg \A \wedge \B \wedge \ldots \wedge \neg \fName_n)\\
%\vee (\neg \A \wedge \neg \B \wedge \ldots \wedge \fName_n)
%\end{alignat*}


\begin{comment}
\medskip
\textbf{Configuration constraint:}
\begin{equation*}
\forall \overrightarrow{f_i} \in c :
%( \neg o_1 \wedge o_2 \wedge o_3 \wedge \ldots \wedge o_{|f_i|})
\bigvee_{1\leq j \leq |f_i|}(\neg o_j \wedge \bigwedge_{\substack{k\not = j\\1 \leq k\leq |f_i|}} o_k)
= \prog{true}
\end{equation*}
\end{comment}

\caption[Feature expression syntax and evaluation]{Feature expression syntax, relations, and evaluation.
% and functions over feature expressions. 
%We informally define \emph{exclusive or} \ensuremath{\oplus} of \ensuremath{n} features to be \t\ 
%only when one feature is \t.
}
\label{fig:fexp-def}
\end{figure}

