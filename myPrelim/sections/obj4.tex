\subsection{Mechanize proofs of properties of the language and the system}
\label{sec:ro4}

Having established that our framework  effectively and explicitly encode variation 
within the database and its query language, we need to ensure that it satisfies
the properties we desire. Objective 4 aims to define such properties and
prove that they hold for our framework. 
%Additionally, it aims to prove that
%VDBMS implements the semantics of VRA correctly. 
\tabref{ro4} presents
individual research questions we need to answer for this objective. 



\begin{table}[H]
\caption{Objective 4 research questions.}
\label{tab:ro4}
\centering
\begin{tabularx}{\textwidth}{X}
\toprule
 \textbf{Objective 4: Mechanize proofs of properties of the language and the system}
\tabularnewline
\midrule
RQ4.1: What are the desired properties for a VDB and do they hold for our VDB representation? (\vamos)
\tabularnewline[0.2cm]
RQ4.2: What are the desired properties for VRA
and do they hold? (In progress)
\tabularnewline[0.2cm]
RQ4.3: Is the implementation of VDBMS consistent with the semantics of VRA? (Not started)
\tabularnewline
\bottomrule
\end{tabularx}
\end{table}

\begin{comment}
\end{comment}

For RQ4.1, we identified properties that must hold for a variational database 
to ensure the variation has been encoded correctly in both the schema and content.
\secref{vdb-props} provides these properties and discusses how a database
administrator can write their own properties over a variational database and
ensure that they hold.


\begin{comment}
* type system
* explicit annotation
* var-pres
* eq rules
\end{comment}

For RQ4.2, we pay attention to the variational nature of VRA.
%
Consequently, the expressiveness of v-queries may cause them to be 
more complicated than relational queries.
%, discussed in \secref{type-sys}. 
Hence, we introduce a 
\emph{type system} for VRA that statically checks if a 
v-query conforms to the underlying v-schema and encoded variability within the VDB.
VRA's type system is formally defined in \secref{type-sys}.
%

Additionally, 
similar to other applications of variational research~\cite{CEW16ecoop,CEW14toplas},
the type system must preserve the variation encoded in a v-query.
We call this property \emph{variation preserving} with respect to the
variational schema and formally define it in \secref{var-pres}.
%
In order for the variation-preserving property to hold we need to define 
a function that decouples a query from the underlying variational schema.
We achieve this by \emph{explicitly annotating} a query with the variational
schema. This function is formally defined in \secref{constrain}.
We are currently proving this property mechanically using the Coq
proof assistant.
%

%Moreover, since variation points in a v-query can move throughout 
%the query it is important to
We provide a set of rules that minimize
the variation in a v-query. We provide some of these rules in \secref{var-min}.
We plan to mechanically prove that these equivalence rules
are correct~\footnote{The mechanical proofs are being conducted with the help of a colleague}. 
%
We also plan to define the formal semantics of VRA to prove
that the variation-preserving property also holds at the semantic 
level to ensure that queries behave as expected.




For RQ4.3, we plan to use the the formal semantics of VRA 
%to ensure that queries behave in the expected manner.
to
prove that the implementation of VRA in VDBMS aligns with
the semantics of it. 

\secref{ro5} discusses a stretch goal that we would like to pursue if time permits.

\input{sections/vdbprops}
\input{sections/typeSys}
\input{sections/constrainVQbySch}
\input{sections/varPresProp}
\input{sections/varMin}

