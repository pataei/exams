\subsection{Demonstrate how the proposed system manages
variation in databases in different application domains and how effective and efficient it is}
\label{sec:ro3}


Having a variational database framework, we need to examine how effectively
it represents instances of variation in databases in different application domains.
Objective 3 focuses on this goal and \tabref{ro3} represents individual research 
question we need to answer for this objective.

\begin{table}[H]
\caption{Objective 3 research questions.}
\label{tab:ro3}
\centering
\begin{tabularx}{\textwidth}{X}
\toprule
 \textbf{Objective 3: Demonstrate how the proposed system can be used to manage
variation in databases in different application domains}
\tabularnewline
\midrule
RQ3.1: Can real-world instances of variation in databases be encoded as a VDB
and can their variational information need be queried by VRA?
What are the steps to generate a VDB from a scenario of variation in a database? (\vamos)
\tabularnewline[0.2cm]
RQ3.2: What are the benefits and drawbacks of representing variation generically
in databases as opposed to having scenario-tailored approaches? What are 
possible improvements in the future?(\vamos)
\tabularnewline[0.2cm]
RQ3.3: How effective and efficient is VDBMS? (\vldb)
\tabularnewline
\bottomrule
\end{tabularx}
\end{table}

For RQ3.1 we develop the two case studies discussed in \secref{ro1} as
variational databases with a set of variational queries that capture
a variety of their variational information needs. \secref{db} provides
the systematic approach we took to generate these databases and
\secref{q} provides their set of queries. 

\secref{db} and \secref{q} illustrate steps of explicitly encoding
variation in the database and queries. The first step 
is recognizing features involved in the variational scenario. 
A feature is a trait that is essential for convey some information
need. 
%
Thus, for each feature, one should (1) enumerate the operations that must be supported both
to implement the feature itself and to resolve undesirable feature
conflicts, (2) identified the information needs to implement these
operations, and (3) map features to database elements accordingly.
%extended the variational schema to satisfy these
%information needs.
%
This process outlines generating the v-schema for a variational
scenario as show cased for our case studies in 
\secref{emp-vsch} and \secref{enron-vsch}.
%
Note that we generated our VDBs from scratch, that is,
we did not have any database variants and their corresponding
configuration. It is easy to generate a VDB from a set of 
database variants with their corresponding configuration.

%\TODO{rewrite the discussion}
Generating the case studies provides us with an insight for RQ3.2.
%
%They helped us understand the flow of
%data and the query through VDBMS better and allowed us to refactor
%our data types to achieve a more useable and understandable encoding. 
%%
%We are using the introduced case studies to debug and evaluate the
%performance of different approaches implemented in VDBMS 
%for running a variational query on a VDB. Profiling the result
%of said evaluation will help us recognize where we can optimize
%our system. 
%
%Additionally, 
We expected our language to be more useable, readable, and
easier to understand. However, we realize that there is a buy-in cost
for programmers to pay when they first learn the language. Furthermore,
the variation in queries may get complicated, yet the programmer can 
still express their information need the way they are most comfortable
since variability flows in different parts of a query as shown in \secref{emp-qs}, 
that is, the overall query
can be wrapped in a choice, attributes can be projected variationally and
conditions can be encoded variationally. 
Still, we believe that the expressiveness of our
language allows for type checking queries (with variation encoded in them)
even though it adds more complexity 
to the language.

%\textbf{How can other researchers benefit from the introduced case studies?}
%
%
The case studies provide an accessible example of how one can encode different 
kinds of variability in a database using a VDB. 
The capability to encode variation directly in databases allows one to have a 
starting point for attacking a new kind of variability appearing in databases,
for example, one could have used the employee case study to attack database 
evolution without developing an entirely new system. 
%For example, 
We suspect that VDBs can be used to also model database 
versioning~\cite{datasetVersioning,dbVersioning} and
data provenance~\cite{bt07sigmod}. Such applications can be pursued in future.
%
%Additionally, the distribution of our databases and queries in a generic
%manner allows others to parse them easily to fit their research.
 %
Furthermore, our encoding can be used to emulate the encoding of 
 variation within other sorts of data such as spreadsheets.
 
 
%\textbf{What are the lessons learned while generating these case studies?}
%do they illustrate common challenges/problems when handling variational data?
%
%Beyond the use of these studies for development of our system,
%%The case studies 
%they illustrate that the most critical step of
%generating a VDB is recognizing the features and configurations
%in order to correctly encode variability of each variant.
%
Encoding variation explicitly in both the database and the query
provides developers with tracing variation and connecting
the variation in data to variation in software development.
For example,
the ability to check properties over data as mentioned in
\secref{vdb-props} is really useful for debugging the
human mistakes. Similarly, the type system ensures that 
queries do not contain undesired behavior. 
%
Thus, we believe that explicitly
encoding variability in the data and the queries gives developers the 
power of testing properties that otherwise would not be possible. 
This is arguably the strongest advantage of VDBs. Recently
lots of attempts have been done
on statically analysis, theorem proving, model checking, and program verification
of variable programs and 
variable structure~\cite{brkts20vamos, bks11fvoos, ldl07jss, tmbhvs14}, especially 
for safety-critical systems,
%\eric{Eric, feel free to add other related work to support this argument.}
 and since databases are part of 
software system the ability to analyze, check, and verify 
properties over variational databases provides programmers
with a seamless framework where they can verify software
and its artifacts.
%


%\textbf{What are the future research directions?}
%The case studies can be used to develop further research directions
%to make programming with variational databases easier and safer.
%%
%%The first direct future work following these case studies is generating
%%a VDB automatically from a set of databases with their corresponding
%%configuration. 
%%\parisa{remove this if we have a semi-auto gen vdb approach.}
%%
%%considering the new complexity and expressiveness added 
%%to the language (explicit encoding of variability), 
%For example, one can extend the query language with holes and even suggestions for 
%the holes would make programmers job easier in both writing queries
%and debugging them.
%%
%It will be very interesting to see the application of VDBs and 
%variational queries in software testing.

For RQ3.3 we are currently evaluating VDBMS with our case studies and we plan
to compare our different implementation approaches in terms of performance.
 
\secref{ro4} discusses the objective 4 and its research questions.
 
%\input{sections/enronvdb}
%\input{sections/empvdb}
%\input{sections/enronqs}
%\input{sections/empqs}