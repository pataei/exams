\subsection{Identify the dimension of variation space and design an encoding to represent parts of a variation space}
\label{sec:ro1}

After studying
different application domains where multiple database instances 
exists simultaneously or over time and they conceptually represent the same or similar
data, but, differ slightly in their schema and/or content for business or experimental reasons,
we needed to understand the variation space that appears in databases.
%Some of these application domains in \secref{intro}. 
Objective 1 aims to identify the dimensions of variation space in databases
and design a generic encoding to represent parts of a variation space independent 
from the application domain.

%To encode variation explicitly in databases we investigate different kinds of 
%variation that appear in databases in various application domains. 
%Objective 1 aims to represent an encoding for  variation that is 
%generic enough that can encode different kinds of variation and is
%not bind to a specific instance of variation or application domain. 
%
\tabref{ro1} presents individual research questions we need to answer for
this objective. 

\begin{table}[H]
\caption{Objective 1 research questions.}
\label{tab:ro1}
\centering
\begin{tabularx}{\textwidth}{X}
\toprule
 \textbf{Objective 1: Identify the dimension of variation space and design an encoding to represent parts of a variation space}\tabularnewline
\midrule
RQ1.1: What are the dimensions of variation space appearing in databases? (\poly, \vamos)
\tabularnewline[0.2cm]
RQ1.2: How can parts of the variation space be described and encoded? (\dbpl)
\tabularnewline[0.2cm]
RQ1.3: Can the encoding chosen in RQ1.2 represent realistic variation spaces in databases? (\vamos)
\tabularnewline
\bottomrule
\end{tabularx}
\end{table}


For RQ1.1 
we investigated the application domains and realized that variation
in databases is similar to variation in software systems with regards
to the dimensions of variation.
%
Software systems can vary in two dimensions: ``space'' and ``time''.
Variation over space refers to the simultaneous development and maintenance of
related systems with different feature sets, which is the focus of work on
SPLs.
%
Variation over time refers to the incremental evolution of a system as it is
developed and maintained, and is the focus of revision control systems and
configuration management (CM)~\cite{Dart91}.
%
Although these two aspects of variation have traditionally been studied and
addressed separately, recent work has sought to unify the treatment of them
%both
%kinds of variation 
to support new kinds
of analyses that consider both dimensions of variation at once
in order to ease maintenance, support the reuse of
techniques developed in their respective communities, and to support new kinds
of analyses that consider both dimensions of variation at once~\cite{Thu19vv}.
%
%The case studies we present illustrate the impact of both dimensions of
%variation on relational databases, and demonstrate how our conception of
%variational databases is generic with respect to the underlying dimension(s) of
%variation.



Similarly, variation in databases exists in time and space. 
Variation in time  appears when a database evolves 
over time while variation in space  appears due
to different information requirements by software or different
sources of information. 
%
However, these variation dimensions in databases have not
been studied. Instead, as we mentioned in \secref{intro},
instances of them have been studied and addressed separately. 
%
For example, schema evolution is an instance of variation in
time while variation appearing in database of the software 
when developing software systems using a SPL is variation in 
space.
%
However, software evolution is unavoidable, so is its artifacts evolution, 
including databases~\cite{dbSPLevolve}.
This is where two instances of managing 
variation in databases (schema evolution and database-backed software 
developed by SPL) interact.
% and variation occurs both in time and space. 
While there are solutions to schema evolution
they cannot adapt to a new situation because they only provide a solution to
variation of databases in time and cannot encode the interaction of database variation in
time and space.
We motivate this case through an example in \secref{mot} and we use this
example throughout this proposal to elaborate more on the introduced 
concepts. 

\begin{comment}
* introduce a feature space
* propositional formulas of features
\end{comment}

For RQ1.2 we take advantage of SPL literature and use a \emph{feature space} 
that captures aspects of 
variation that may appear in a variational database scenario. A feature is
basically some characteristic that is important to the database administrator
and developers while interacting with the database.
We then construct propositional formulas of features, called \emph{feature expressions},
to indicate a specific partition of the variation spaces.
\secref{encode-var} provides the formal definition and examples of
features and feature expressions.


For RQ1.3 we provide two case studies by taking 
two real-world scenarios where variation appears
in databases and encode their variation space using feature expressions.
%
In our first case study, we focus on variation in ``space''.
It shows the use of feature expression to encode the variation
needed for a database-backed SPL. We consider an email
SPL which has been used in several previous SPL research projects (e.g.\
\cite{Apel13:SSP,AlHaj19}).
Since the SPL has a set of features we use the same feature space 
to account for variation in the database of the software.
%It develops a variational
%schema that captures the information needs of a SPL based on Hall's
%decomposition of an email system into its component features~\cite{Hall05}. The
%email SPL has been used in several previous SPL research projects (e.g.\
%\cite{Apel13:SSP,AlHaj19}). The variational email database is populated using
%the Enron email dataset, adapted to fit our variational schema~\cite{Shetty04}.
%
%Our first case study demonstrates the use of a VDB to encode the variational
%information needs of a database-backed SPL.
%
Our case study is formed by systematically combining two pre-existing works:
%
\begin{enumerate}
%
\item 
We use Hall's decomposition of an email system into its component
features~\cite{Hall05} as high-level specification of a SPL.
%
\item 
We use the Enron email
dataset\footnote{\url{http://www.ahschulz.de/enron-email-data/}} as 
%a source of
a realistic email database.
\end{enumerate}


In our second case study, we focus on variation that occurs in ``time''.
It demonstrates the use of a feature expressions to encode the variation created by
 an employee database evolution
scenario. We systematically adapt an existing database evolution scenario from
\citet{prima08Moon} into a VDB and populate it by a dataset that is widely used
in databases research.\footnote{\url{https://github.com/datacharmer/test_db}}
%
For this case, the variation space must include features that indicate
each version of the database, thus,
we assign a feature to each version of the schema.
For example, for the original schema we have the feature \vOne\ and
as the schema is evolving and each time we have a new schema we 
assign it a new feature. That is, for the second schema we have the 
feature \vTwo\ and so on. 
%
Objective 3 (\secref{ro3}) demonstrates how these features are used later on.

\secref{ro2} discusses the objective 2 and its research questions.

\input{sections/motivation}
\input{sections/encodeVar}

